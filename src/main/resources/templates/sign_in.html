<!doctype html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<meta charset="utf-8">
<title>登录&nbsp;-&nbsp;南风共享</title>
<style type="text/css">
input{-webkit-appearance:none;margin: 0;}

* {
	tap-highlight-color:rgba(0,0,0,0);
	-webkit-tap-highlight-color:transparent;
	outline:none;
	font-family: Arial, Helvetica, sans-serif;
}
	
body {
	position:absolute;
	background-color:rgb(240,240,240);
	width:100%;
	height:100%;
	margin:0;
	overflow-x:hidden
}
	
.card {
	position:relative;
	width:94vw;
	margin:3vw;
	border-radius:3vw;
	background-color:#fff;
	overflow:hidden;
	box-shadow:0 0 1vw 0 rgba(100,100,100,0.4);
}

#post {
	height:15vw;
	background-color:rgba(200,0,0,1.00);
	color:#fff;
	border:0;
	font-size:6vw;
}

.card input {
	width:90vw;
	height:8vw;
	line-height:8vw;
	margin:2vw;
	border:0;
	font-size:5.3vw
}

.active{
	box-shadow:0 0 1vw 0 rgba(255,0,0,1);
}
	.sign{position: relative;margin: 4vw;color: blue;font-size: 4vw;}
	#tip{color: red!important}
</style>
</head>
<body>
	
	<div class="card" style="margin-top: 16vw">
		<input id="user" type="text" placeholder="请输入账号" maxlength="60">
	</div>
	<div class="card">
		<input id="pwd" type="password" placeholder="请输入密码" maxlength="60">
	</div>
	<div class="sign" onClick='window.open("/sign_up","_blank");'>还没有账号？</div>
	<div class="sign" id="tip" style="display: none">账号或密码错误</div>
	<input id="post"  class="card" type="button" value="登&nbsp;&nbsp;&nbsp;录">
</body>
<script type="text/javascript" src="/js/pengge_tools.js"></script>
<script type="text/javascript" src="/js/sign.js"></script>
<script type="text/javascript">
"use strict";
	sign("登录");
var doname="http://nanfeng.s1.natapp.link",
doc=document;	
doc.getElementById("post").onclick = function() {
    var dom1,post_data="";
	dom1=doc.getElementById("user");if(dom1.value===""){active(dom1);return;}else{post_data+="tel="+pengge.html_encode(dom1.value);}
	dom1=doc.getElementById("pwd");if(dom1.value===""){active(dom1);return;}else{post_data+="&passwd="+pengge.html_encode(dom1.value);}
	this.disabled="disabled";
pengge.post(doname+"/login",post_data,function(data){
	if(data==="success"){
		var referrer=document.referrer;
		location.href=(referrer==""||referrer.indexOf("/sign_in")>=0)?"/":referrer+((referrer.indexOf("?")>=0)?"&":"?")+Math.random();
	}else{document.getElementById("tip").style.display="";doc.getElementById("post").disabled=false;}
	
});
    function active(dom) {
        dom.focus();                      
        dom.parentNode.className = "card active";
        dom.onkeydown = noactive;         
        dom.onafterpaste = noactive;
        dom.onchange = noactive;
    }
    function noactive() {
        this.parentNode.className = "card";
		this.onkeydown = null;         
        this.onafterpaste = null;
        this.onchange = null;
    }
}

</script>
</html>
